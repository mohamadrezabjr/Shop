{% extends 'master.html' %}
{% load static %}
{% load custom_filters %}
{% block title %}Order Details{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Order Details</h2>
    <div class="card p-3">
        <p><strong>Order ID:</strong> {{ order.id }}</p>
        <p><strong>Status:</strong> {{ order.status }}</p>
        <p><strong>Address:</strong> {{ order.address }}</p>
        <p><strong>City:</strong> {{ order.city }}</p>
        <p><strong>Contact Number:</strong> {{ order.number }}</p>
        <p><strong>Total Price:</strong> ${{ order.price }}</p>
        <p><strong>Order Date:</strong> {{ order.date }}</p>
    </div>

    <h3 class="mt-4">Ordered Products</h3>
    <ul class="list-group">
        {% for cart_item in cart %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <img src="{{ cart_item.product.image.url }}" alt="{{ cart_item.product.name }}" width="50" height="50" class="me-3">
                <strong>{{ cart_item.product.name }}</strong>
                <p class="mb-0">Quantity: {{ cart_item.num }}</p>
            </div>
            <span class="badge bg-primary">${{ cart_item.num|multiply:cart_item.product.price }}</span>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}